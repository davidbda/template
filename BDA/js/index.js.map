{"version":3,"sources":["base.js"],"names":["init","window","triggered","updateNavigation","isLastPage","current","$navNext","removeClass","$navPrev","addClass","$navFirst","$navLast","videoPlay","$wrapper","$iframe","find","src","data","attr","$","itemsCount","children","length","bb","bookblock","speed","perspective","shadowSides","shadowFlip","onEndFlip","old","page","isLimit","document","off","keydown","e","arrow","left","up","right","down","keyCode","which","prev","trigger","next","on","ev","preventDefault","this","closest","sg","setDraggable","success","sound","fail","revert","click","elementIndex","css","event","easytabs","animate","updateHash","each","index","value","t","val","jump","location","hash","substr"],"mappings":"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","file":"index.js","sourcesContent":["function init() {\n  window.triggered = false\n\n  var Page = (function () {\n    var $container = $('.content-container'),\n    $bookBlock = $('#bb-bookblock'),\n    $items = $bookBlock.children(),\n    itemsCount = $items.length,\n    current = 0,\n    bb = $('#bb-bookblock').bookblock({\n      speed: 800,\n      perspective: 2000,\n      shadowSides: 0.8,\n      shadowFlip: 0.4,\n      onEndFlip: (old, page, isLimit) => {\n        current = page\n        updateNavigation(isLimit)\n        window.triggered = true\n      }\n    }),\n    $navNext = $('#bb-nav-next'),\n    $navPrev = $('#bb-nav-prev').addClass('off'),\n    $navFirst = $('#bb-nav-first').addClass('off'),\n    $navLast = $('#bb-nav-last')\n\n    function init() {\n      itemsCount == 1 ? $navNext.addClass(\"off\") : \"\"\n\n      $navPrev.on('click touchstart', () => bb.prev())\n\n      $navNext.on('click touchstart', () => {\n        $('body').trigger('page-changed')\n        bb.next()\n        return false\n      })\n\n      $navFirst.on('click touchstart', () => {\n        bb.jump(1)\n        return false\n      })\n    }\n\n    $(document).off('keydown').keydown((e) => {\n      const keyCode = e.keyCode || e.which,\n      arrow = { left: 37, up: 38, right: 39, down: 40 }\n\n      switch (keyCode) {\n        case arrow.left:\n          bb.prev()\n          break\n        case arrow.right:\n          $('body').trigger('page-changed')\n          bb.next()\n          break\n      }\n    })\n\n    function updateNavigation(isLastPage) {\n      if (current === 0) {\n        $navNext.removeClass('off')\n        $navPrev.addClass('off')\n        $navFirst.addClass('off')\n        $navLast.removeClass('off')\n      } else if (isLastPage) {\n        $navNext.addClass('off')\n        $navLast.addClass('off')\n        $navPrev.removeClass('off')\n        $navFirst.removeClass('off')\n      } else {\n        $navNext.removeClass('off')\n        $navPrev.removeClass('off')\n        $navLast.removeClass('off')\n        $navFirst.removeClass('off')\n      }\n    }\n\n    /* Video Begin */\n      function videoPlay($wrapper) {\n        var $iframe = $wrapper.find('.js-videoIframe')\n        var src = $iframe.data('src')\n        $wrapper.addClass('videoWrapperActive')\n        $iframe.attr('src', src)\n      }\n\n      function videoStop($wrapper) {\n        if (!$wrapper) {\n          var $wrapper = $('.js-videoWrapper')\n          var $iframe = $('.js-videoIframe')\n        } else {\n          var $iframe = $wrapper.find('.js-videoIframe')\n        }\n        $wrapper.removeClass('videoWrapperActive')\n        $iframe.attr('src', '')\n      }\n\n      $(document).on('click', '.js-videoPoster', function (ev) {\n        ev.preventDefault()\n        var $poster = $(this)\n        var $wrapper = $poster.closest('.js-videoWrapper')\n        videoPlay($wrapper)\n      })\n    /* Video End */\n\n    /* Drag & Drop Begin */\n      sg.setDraggable(\n        \".drop\", {\n          success: function () {\n            sg.sound(\"success\")\n            $(this).addClass('drag_bda')\n          },\n          fail: function () {},\n          revert: true\n        }\n      )\n    /* Drag & Drop End */\n\n    /* PopUp Begin */\n      $('.bda-btn-popup').click(function () {\n        let elementIndex = $(this).attr(\"data-pop\")\n\n        $(`#popup__container${elementIndex}`).css('display', 'block')\n        $(`#popup__bg${elementIndex}`).css('display', 'block')\n\n        $(document).keydown(function (event) {\n          if (event.keyCode == 27) {\n            $(`#popup__container${elementIndex}`).css('display', 'none')\n            $(`#popup__bg${elementIndex}`).css('display', 'none')\n          }\n        })\n\n        $(`#close${elementIndex}`).click(() => {\n          $(`#popup__container${elementIndex}`).css('display', 'none')\n          $(`#popup__bg${elementIndex}`).css('display', 'none')\n        })\n      })\n    /* PopUp End */\n\n    $('#bda-tab-container').easytabs({\n      animate: false,\n      updateHash: false\n    })\n\n    $('.bda-btn-validate').click(function () {\n      $(\".bda-input-exercise\").each(function (index, value) {\n        const t = $(this)\n        t.removeClass(\"ok\").removeClass(\"err\")\n        let res = t.data(\"res\")\n        let respuesta = t.val()\n        if (res == respuesta) {\n          t.addClass(\"ok\")\n        } else {\n          t.addClass(\"err\")\n        }\n      })\n    })\n\n    bb.jump(location.hash.substr(1))\n\n    return { init: init }\n  })()\n\n  Page.init()\n}\n"]}